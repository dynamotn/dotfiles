encryption: age
format: yaml
mode: symlink
{{- if stdinIsATTY }}
progress: true
{{- end }}

# Uncomment the following line to set umask for MacOS root system
# umask: 0o02

add:
  templateSymlinks: true

diff:
  pager: delta --pager="ov -F --section-delimiter '^(added:|removed:|renamed:|Δ)' --section-header --pattern '•'"

data:
  {{- $osid := .chezmoi.os }}
  {{- if hasKey .chezmoi.osRelease "id" }}
  {{-   $osid = printf "%s-%s" .chezmoi.os .chezmoi.osRelease.id }}
  {{- end }}
  osid: {{ $osid | quote }}
  {{- if eq $osid "android" }}
  initSystem: "termux"
  {{- else if eq $osid "darwin" }}
  initSystem: "launchd"
  {{- else if eq $osid "linux-gentoo" }}
  {{-   $initCommand := output "/usr/bin/ps" "-p" "1" "-o" "comm=" | trim }}
  {{-   if eq $initCommand "init" }}
  initSystem: "openrc"
  {{-   else }}
  initSystem: "systemd"
  {{-   end }}
  {{- else if eq $osid "linux-alpine" }}
  initSystem: "openrc"
  {{- else }}
  initSystem: "systemd"
  {{- end }}
  {{- if eq .chezmoi.os "android" }}
  bash: {{ lookPath "bash" | quote }}
  {{- else }}
  bash: "/usr/bin/env bash"
  {{- end }}

  {{- $places := list "cloud" "home" "office" "mobility" }}
  {{- $place := promptChoiceOnce . "place" "Where does this machine place" $places (first $places) }}
  place: {{ $place | quote }}
  {{- $kinds := list "container" "pc" "laptop" "workstation" "tablet" "mobile" "vm" "sbc" }}
  {{- $kind := promptChoiceOnce . "kind" "Which kind of this machine is" $kinds (first $kinds) }}
  kind: {{ $kind | quote }}

  {{- $companies := list "F1" "T1" "ZOO" }}
  code: {{ promptStringOnce . "code" "What is this machine's name" "t00lb0x" | quote }}
  {{- if eq $place "office" }}
  company: {{ promptChoiceOnce . "company" "Which code of owner company is" $companies (first $companies) | quote }}
  {{- else }}
  company:
  {{- end }}

  {{- $decryptPersonal := promptBoolOnce . "decryptPersonal" "Do you want to decrypt personal's secrets (y/n)" false }}
  decryptPersonal: {{ $decryptPersonal }}
  {{- $decryptEnterprise := promptMultichoiceOnce . "decryptEnterprise" "Which company's secrets do you want to decrypt" $companies list }}
  {{- if $decryptEnterprise }}
  decryptEnterprise:
    {{ toYaml $decryptEnterprise | indent 4 | trim }}
  {{- else }}
  decryptEnterprise: []
  {{- end }}

  {{- $guiServers := list "0" "W" "X" "M" }}
  {{- $guiServer := promptChoiceOnce . "guiServer" "Which GUI server of this machine is (W for Wayland, X for XOrg, M for Mac, 0 for CLI-only)" $guiServers (first $guiServers) }}
  guiServer: {{ $guiServer | quote }}
  {{- $guiDrivers := list "N" "I" "A" "M" "V" }}
  {{- $guiDriver := "" }}
  {{- $guiWinManagers := list "H" "A" "G" }}
  {{- $guiWinManager := "" }}
  {{- if ne $guiServer "0" }}
  {{-   $guiDriver = promptChoiceOnce . "guiDriver" "Which GUI video driver of this machine is (N for Nvidia, I for Intel, A for AMD, M for Mac, V for virtual)" $guiDrivers }}
  {{-   $guiWinManager = promptChoiceOnce . "guiWinManager" "Which GUI window manager of this machine is (A for aerospace, H for hyprland, G for gnome)" $guiWinManagers (first $guiWinManagers) }}
  {{- end }}
  guiDriver: {{ $guiDriver | quote }}
  guiWinManager: {{ $guiWinManager | quote }}

  {{- $languages := list }}
  {{- if ne $guiServer "0" }}
  {{-   $supportedLanguages := list "vi" "ja" "zh" }}
  {{-   $languages = promptMultichoiceOnce . "languages" "Which languages do you want to use in input method framework" $supportedLanguages list }}
  {{- end }}
  {{- if $languages }}
  languages:
    {{ toYaml $languages | indent 4 | trim }}
  {{- else }}
  languages: []
  {{- end }}

  {{- $browsers := list "Z" "F" " " }}
  {{- $browser := "" }}
  {{- $browserEnterpriseProfiles := list }}
  {{- if ne $guiServer "0" }}
  {{-   $browser = promptChoiceOnce . "browser" "Which web browser do you use (F for Firefox, Z for Zen Browser, or empty)" $browsers (first $browsers) | trim }}
  {{-   if $browser }}
  {{-     $browserEnterpriseProfiles = promptMultichoiceOnce . "browserEnterpriseProfiles" "Which company's browser profiles do you want to decrypt" $decryptEnterprise list }}
  {{-   end }}
  {{- end }}
  browser: {{ $browser | quote }}
  {{- if $browserEnterpriseProfiles }}
  browserEnterpriseProfiles:
    {{ toYaml $browserEnterpriseProfiles | indent 4 | trim }}
  {{- else }}
  browserEnterpriseProfiles: []
  {{- end }}

  {{- $mailClients := list "B" "T" " " }}
  {{- $mailClient := "" }}
  {{- $mailEnterpriseProfiles := list }}
  {{- if ne $guiServer "0" }}
  {{-   $mailClient = promptChoiceOnce . "mailClient" "Which email client do you use (T for Thunderbird, B for Betterbird, or empty)" $mailClients (first $mailClients) | trim }}
  {{-   if $mailClient }}
  {{-     $mailEnterpriseProfiles = promptMultichoiceOnce . "mailEnterpriseProfiles" "Which company's mail profiles do you want to decrypt" $decryptEnterprise list }}
  {{-   end }}
  {{- end }}
  mailClient: {{ $mailClient | quote }}
  {{- if $mailEnterpriseProfiles }}
  mailEnterpriseProfiles:
    {{ toYaml $mailEnterpriseProfiles | indent 4 | trim }}
  {{- else }}
  mailEnterpriseProfiles: []
  {{- end }}

  {{- $terminalMultiplexers := list "Z" "T" }}
  terminalMultiplexer: {{ promptChoiceOnce . "terminalMultiplexer" "Which terminal multiplexer do you use (T for tmux, Z for Zellij)" $terminalMultiplexers (first $terminalMultiplexers) | quote }}

  {{- /**/}}
  hasSound: {{ promptBoolOnce . "hasSound" "Does this machine has a sound card (y/n)" false }}
  hasBluetooth: {{ promptBoolOnce . "hasBluetooth" "Does this machine has a bluetooth card (y/n)" false }}
  hasWifi: {{ promptBoolOnce . "hasWifi" "Does this machine has a wifi card (y/n)" false }}

  {{- $httpProxy := promptStringOnce . "httpProxy" "Fill HTTP(S) proxy address, empty for not using" "" }}
  httpProxy: {{ $httpProxy | quote }}
  {{- if $httpProxy }}
  noProxyAddresses:
    {{- $isEnd := false }}
    {{- range until 1000 }}
    {{-   $address := promptString "Fill address that not use proxy (empty to end this list)" }}
    {{-  if $address }}
    - {{ $address }}
    {{-  else }}
    {{-    break }}
    {{-  end }}
    {{- end }}
  {{- else }}
  noProxyAddresses: []
  {{- end }}
  preferGitSSH: {{ promptBoolOnce . "preferGitSSH" "Do you want to prefer SSH than HTTPS for git (y/n)" false }}
  blockedGitlab: {{ promptBoolOnce . "blockedGitlab" "Is this machines blocked to access Gitlab (y/n)" false }}

  {{- /**/}}
  darkMode: {{ promptBoolOnce . "darkMode" "Do you want to use dark mode (y/n)" true }}

age:
  identities:
    {{- if $decryptPersonal }}
    - {{ .chezmoi.homeDir }}/.config/chezmoi/personal.key
    {{- end }}
    {{-  range $decryptEnterprise }}
    - {{ $.chezmoi.homeDir }}/.config/chezmoi/enterprise-{{ . }}.key
    {{-  end }}
  recipients:
    {{- if $decryptPersonal }}
    - age1pq1x5ss8chhwnpqery72s8ml998uftk0t0sq0vdxc3eaxf46yy7x4ej0yjx4cggrqjxtgk8dhzfdae6mtdy345pssfn4y8gztrawegjs36hhv3dsxg3edpgxpspecep2e7v4l8rdq7khyt74xt3ecc53lahz3lj49s0yzr24ks9ftjse57j5sdx3dhud2qscfcy25kvtp32y3cgjgptaz0k96nu5geyqtfjtyy25a0ap9m525m5aq5ects6rsqc9vpu6dqq0aq7sh48zpstz7crseyt535zuzsk7wjf230r0n8qw822ya38pnzpc0vy7apn9vq6hstxpxqh0kckkkj2wfrnjl9x5ck8cyncc4qwmf6yjct8g902cc3tc49c5sf60j6x9kmyyxh7geglg3k347ns0s9h5vr93w68yaef678jxja5wj9v6hjq3f0x9r3q2f0e7z397heftxh5z0a35k5p3ystqyqj2pzyuemexv5zdw9effuuck6z00tz9xee05xgwgpdjfvcthp0vms50lxp99wqxdzpya84e2yaevg5n38k3a6wdvmky8qvyvy52hasmyk30flej35c5w2dmqv6zwwxtqvudf9xvp4qp0g97z4n8uc6f8j6xvjnvxuj89pctj6h9ujykjqykl6tcfffy49cwdfns7s9vmhygah0szp20pgxvdvc7hzqp2ckfwycgp9fkjq53u4p29ecylchc52fdjxwqdfa4uzx7cmhn5t2e4xnwjnkevqngpukrjjfuq8y835ny6hnc2ttxjte0m32nmphjyfwpgau627g3vm3kfgke0638kfattgpty3yhzcpl2492cyg2sc72lkpy2mp74gn0j3teg0rkd4chzepjugmlpwf9w6sreu5wnwzfs74eflgrvf8uhf8kvyrg8h8vmp5tqg0y2jedq36kh0qs40xk47dmzfq48zny2uumta2x99zymetyp9j7dprd0nsfr9e8xk65aug292jk7tnt9r35ejq58jgk9x3tzm6kqgymltelrg84ykk4vsw2fkklx57aatnulf5d7n24nvcu7pmtgsranmseklet2rj2ylmjurxmaew0ge28kwts78mws73jjnjup3vrpt8ald2f07trfduldxnzy60dhjq2gz8z8ntrx2ls5f23q98843k7qdn5cqcgyrscf9m553gv5mn03x59cagj4u78f7vjx6axsn9g2m9392d0qhfk4kmx6aw7edurt3neuzl2p59wg6muxjjd4nzukg6r2zpcnm9rvhuye9ex03mc6vkxe5rjpa432e80wez8gsg2kkg32dawqq4ey4t5fj3d4g8gvcz0gjejrc9gdz7kwzcxrgkh52uwllhhs60qvtv8my70kmrsw4yxxuyw9h4q6m6hur42yau4lrt34e3e83katpgp45qs2kpz0tmr959hydtuz202wvmheqhsyqne5w3sr8usaqyhvrwsn4cv99vhupynrp3cgttmf4a2eahuwr4255jv9v02e0834uxea32yp83tmpnhr37ca2enfsxgzwypdau0z2q54hhfnrdvgfehhyynee6qn52whnzpj4vavae8ef9jnnuj5k739lnpde7f3a36qs84204ht4lwhafcd8n6uyp2uvnrez5tp8p2nf5a95cjaxtnycnk8s8f3dtktz9jyeg84z027fcsegs9t4ljyy9ke5yx2dph6fjqeksrlktcqucu58389s8qgntu9l60cghwss6u5kq84vnwm6u8xer5japs8v7tj9gg9qyrcvjwk7yw7h39g3eyas6fsveu0dz8znfyjh5j3q8330w2lmujvkak2x6g3vh379vl5e2p5av7n8llznjm9h7ze80shldpte8nrq00al2cwqy0pza23685zpg5qdl8yzt4fpkfacguknfx8y8zgqspmhf
    {{- end }}
    {{- range $decryptEnterprise }}
    {{-   if eq . "F1" }}
    - age1pq1n2tnthkyh98ez52upd92sjg4xyf59rz89fcpylw2cg6k2sqpvf2s90nm5vj9rd46ey0zmcpk2qavxas3ye4p2mxy7vw8pqpvzray34s8xeayvltln3dfqc9fn06gg6hesnws4p0nv3fxl2y2lk9srm9zydtqv9pwt2v3yx7wacu2k9uqp9zz25mat2km96mvkkau992n3mzmkhdayde4eekgp9fyw5lrhphq5txk0q7022ancrafc69fgp7v0nk9hqpfxsagkntmll3xfr64txdtp9522dwd97m6l656hreajz4kj7d8kse08x3msg4n8v7mc85hx9q20anlrlfz29preudaghv7av080v4mu0emsgxj9vm42278h0rv7528jagxsuage239f920kfw80ve0dku2eqq6w4cds662f22g9x6catd3t05yk73whnrdgcnpggmpkluzstexqrlknrgy6fwut6rykmyc3q35xjfcez74l3wq653q3jshgutze6cgn9sgrwvm2hqdlvuvqzcj5cq8cmw0rwdj0vazmwevkhxn0g6zp3e70zgrzc5fsnrxvr46f4r8hv0saxhja3zvyqq9chk4xyn5xug4rfmvnk7wr5eemtk3yjc64tkn767q7nzwp93gmg4u9h2wkq5upjjv4u3p0pjxtmtyqlkqcetxvuk5dp2yn4ur6l5f5hwdxwx4z3ztdjz5g9vkzp08844lpfy6yc49d7derd2pk8dewncqcr48lvy6xavgnkuztxjvvtju2cjrpgct6sfmtmunpvgj2cfz22zcv265u2u4nsv8zd84fzawq26e0fgg246jh236tsang5jdwsz4y9vp00ytv23gdmvvtt8ucuxc02gk3t9v5sv4xk8e3p2hjxvhsf8gqqntzeqjy7a28p5u5maljz6c58xzgjyvw4x99azshnd063j8m5gkwj6v56vvvmquhrujfv0897y03qtuw0gpr8h88f7flyvjhaf3gnuy7ae4hex9tq580rpjydymhs3f2j3v4yll8g2cuuqp7k7r5m3vd62427s80za3kcw0p66htmqrcenqg400yqpgc5tj8qyy0a2mqjy4hla6zjgltjw9gvqzqw5neg26vqa2hn0ecgxsz9cvh446ujwf4c89qmx602j23mpflfdmmq5xskkqjct6np02ufmdp2mslzmgzeensanuw3qxepcxvfunpp82t4d8j0jqhzr3f09zk2arxzdfjevkhn07ddzv4edlck9x77cvjve9r3fex0rufd3dtfqutty6stwuhj4yzhy3243mattxusszd0t8jwkrv2z263dmlemnywlnkgpawpwf8p56raa62sgc29k8p92sz9vp4wpypxm5kaqjsuupshpy9sv73x3m776394y4vvq33etp526wc5pvysrn9v4u05z4hhv7jft8mwljlv660rguu6hz5m38qrpf2jerje9zpn5rydhkzkhj0qm5q6rx2n9juhyg7s2hjvy6f27wn93pnzu3ahqpvsvcerwpefr7kqtc92teukyh9amu9lk5vc5fja03fdpuyvurdkt60suyt3994w64wvqhnsk9qwqsz8tvjx9ezux4mfrtl4yu3x3pr2g24vs0qkhxdc47he253s3zp0d8cmn9cwx63d4z53avl5wypeffsh2drzcx9kam6je6v3su0y2w3qra230uec9yskd63ueky2r452rupqe7h6g8hzfvsyy5clgn9vlccjryqvp3zm6qy5v5q6ry8r6w09488ey0yun3kryfd72lftpz98yszjmyshzzz8v49w5nvfe93xzlqutss84jhn2eqjlc3dwseeuaddvgp3kadyl67yqsd65y39eaqc06zwxqw4q95hfp8kv7c8yzcukyw4tecnfd7a2mjaz4d5emyx7x8cm7fdmc
    {{-   else if eq . "ZOO" }}
    - age1pq1qnp4qp0yk46q9qryqtg8dppmtrjkygz4q537py5ds7j87xaazeyymd76sfsn83tajjzhs3ven9krdgnxs23v2pdhhgax7gumra5h4c04np398qaf2d65jaenr5d54r58gfu5fy20z8y9kfarx8yezet587qqdraz5pade6wv4evc3v6uc72lggrtuf9qffdgwdq9vzxchytlg4fykr8a8xvqg66c78ntvcaq5s5xuwvuwp2zd7kqafmufhu4ns4lk7lm745x8az5yp2gjlc0janpjcfupawy4n22fvdkjzjahvgp02k7y6m50ccyqvt2zpk7w3yjjuzl4z4cngdzm5kxx3hlwh4tjwgj9t9z3n6q4qck0z4adr2x9jfxawgspu2vdl35fdxvn9mtn2cyn7wyx659s4unfv295jcdpswmvxkr0wan7vnyz4fqxxk9fztzsec5nlwg96h9xymzy5ynwfp6ugpghnttnn9tq59uq6e55k3vty5ta6esncf98sssdpam4qqg3pwytw9rcu94572d5gwp25aukrrjk6nqskh6q9d4y4mrq4k99tyhrzevecd3eu7zvhcuup52eggacpnv4nx5dr5t3g9plduqxmy4l4ggseh6x0n7xmuqgc02555ymntgazyhr9mmju8t8gq600xduw62ddqrhschqmhx2np077au6z33uc03humufnzkz5etjzwftku55v2ct4x0cny4mnrsfj42wwwp9p5rjllh0jyrk2lcffwrla538nh59wmfdxkdv735ydyyc2sxtmkcxaclw7zgd228save2sscuxfysyjh9yje6fyfryflfka9pgyy3zwxje20zdnxhagjjpr3dy3f8sth0d0e6gl9pdm3wad9v03vdjrmkuxhy2sc79zknrppudhurjs2j3jkup6tpfrgq0j83hmvfnqaxp3uzaq042zxmsk9lgwmnfdvkyh3h3vnquf3w97vz4vk4dzlrse3nsnftgty43tthk86f9hcscylfsetwjvhmh35euqvp86npwan7sg3veqxzskprxmsyfyaw07ujvmf6spp4jjy6j64hlpn98a6shy9c49r85y6w2ayscj6xtqjq9eh3s6tn56ux39cnjs5kyxwax05crr6yxx2cude9tcl323ekflwl6pxt3fftkum496rcvar52y34ysv3f2hxpdxwxd7qjgvzg66y6qzqqutdayug3ddcjfy5z6hh6glepkpyn9k5jycwp0mgk9y8rzhpq2u4zcmjj3qxelj65wwjqt3gsrfdq8swak70fy3ulyt6ddwywc8dhlce48tsux7uplfrfd8d7npdjmx9lpskkrmvupzn3mfju2v58gzzvklhn7667atxp5rm37rmr5csy2ncdse595z8ly307acku5cjcls9x6aj0rs4fy70769lnuqgh6hr9u76nq4x29lskusa6248tkfkyj7juvksjeqaaqr0m8jxgfasrcluemju7v6q2n4r2280exe0z9c093hwgn50m6sx5z3c86us34yrysz9zrfmt58gmz80ssykwsy59wxa7wpzwr4a8yqtmd039phrggjv7dp4wjnk3w8rpghcgwlvkcuh5ehsh3tpq9nedzhwcekve3p0k5hckm5hs94yhaavv3es9djl2wz2e9ms6784tk2kwhmsgkt4d47a6jx9kexxryzykm7szxa56fpdnfmylsgsc0av2e90ju7rxp4sj5nxf5pzk24w0ayz3u2t4r7z7ck35krxq0rgfgvgsynt4w9x9gg3w2zcke2xp6snpk4ga6hnqc8nzrt2hspptaez2359tnyg6j5qtnyr7lzk8u7zxy8q2udh4rlgwvmnetrq7dwr6jj8ma36tdcyvt9fp66jhtnyel9hyrkpt3czc7awwmga2jgqu2s0s4ets39l32n
    {{-   else if eq . "T1" }}
    - age1pq1g3qkrzmmptfs48ge4s9newpcgrjpy8us0gvd53ev6akrrfn693qfgzwqqgstp0sx0jacr2e0megcaxm5fmxu32cu4xjj4vyguls5mly4rmwagaphdxqyv69v0fsf540e4574xgdweskge5yspk95lqexfjxagt3cw9cx4x3ttktgeetvzl30qwh27e4gerr4alufk608gpjykq7z9ye54wvm4u2fnadzcmnqsdnul288xftgvxfq3nzhzn9rxgtsmzpmwjuntdz98myvh53p8shgv5tq59pktr64s98zskwrgt33lwsnly6cpwfkrsk3wp56z6k3e9etyvc46utj2p7z0dcd09ly99znqap4sg422ma2stwuqcj4pjnhkcnrqnrk7grce3ul0t43ykfxz7txsrr96lsmseea52ydd36vfqu6gss3ye7cqxwz8rpt7ks9lk2u9suj9xhzyxf5zv84wg7mk9c7y9529hp33zkrgay64fxp256xu6k2qhhxdmduy8q8z4s0agt5m5sechw4p5qq2fhay5ccxvtv3qnzda28de5g2d3h7va2gu32ervcuhrs3ck3q3n52e79sz4vkhcsnjr8ed6tk4mv99ul5ugmqzn96as9p4lv8fde9x4jfdaerk6p9c2v9200k9qvcrqahjdjfzd38cgnexnd5y8q7yqmddmf2pvhjwk3ysgudrrrz2dym6mcqvac2unyxxluyrhdm9uhtaw9026f72pkdvghfjj9af3zdgmdvze30kepkx98gwr0k73c4ukfdsumwuv3xuzhgc2y2lypz49yvg33ajgky8qnftk2265yejqc5kpxfr5v53uc9vuvrxgz752ahqgvqg9pyar3zdn2kz0l3ppl7rj9x2gufpq0e3cq663qs5ejr3rylsz42y2erfedzxhs6hpjuuurdekxhnsf59d489x46sqcysf574apx74yjc9zfnrsmp4ukndj7zumtuz3jxgwpvxqpzumddttwgpzyczmxypkglzvxet60axvvsxyrjdg597rmqh93yqu74vfv4aj45nt5jfusessnu9j402k5t75tw0y80wuv08hukt5gv65x0zc0rau8wecysrcfccmspax893gyvpt2r3krgmyu334tf6my40cj4atvy0sexeq4aww8wz5nv5zk7sm3za45wcengqm90szq2r5xwtpgkhevy4fvq64v0v6wymf4ynunr0yeyserzel267p44ehx0g5s59n2fxndk4p4levn7m9e6h4w7tlr3r5ykv5w25n6xuz5ztx4ztefv6zaeq3j6v98hfk0fmxxses7k72syccksrzcd8qglw5pnhqkku3ccnjqdnh4htzqaqd0wm3ydldalyjy3n2lg2cc3qusv0c2aa4dsz7rtutqfevv933qdclzgee7dgv7zmecmxkftcdksmt3zxgmk4agtqvm4pu26xp0vlj32tdn43mn6492f45v9rskph374f3lgssqavzwdgsrx0x8fs7w4q2tggy6vqql9fr0q6sdx76c3vk4ynzveay7dsy4gn74rnzwdqpn9jgt4z5p6k6ff6ew7puqepfpnyy8x4jm2ejwet0kn2y7yy96scv9h6rnn6yr93zp8ny6vmrxvclj5xy5dnrtjjl836mydt4cdthz7nnspn35epnzcxkafdpvqd76stsecx2cqq4gznwz20nlqfkzseeu6k48r4l0n53sz83dmqe4lrjylet2f07cxvnxv8n8wu79t2rqxms9d8uhpq6gsmmesf5e2guwxnyfxv3rvmergdp5jmzdhzpr7dteu8yypg3qsvt757uaxasnjzjy9hws562rhufvm2a6tarylldlpajsf0yy7zhc4qgqehnes2vmkc5wztqgumm9w2xzzw4kum9a550tgd87ut6gm0kpvx5dmes
    {{-   end }}
    {{- end }}
